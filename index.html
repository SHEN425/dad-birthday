<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>è€çˆ¸ç”Ÿæ—¥å¿«ä¹</title>

<meta name="description" content="å®¶åº­ç”Ÿæ—¥ç¥ç¦é¡µé¢ï¼Œä»…ç”¨äºäº²å‹ç¥ç¦">

<style>
html,body{
  margin:0;
  height:100%;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",sans-serif;
  background:radial-gradient(circle at top,#4b2a82,#120016);
  color:white;
}

/* ä¸­å¿ƒåˆå§‹å¡ç‰‡ */
#center{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10;
}
#card{
  background:rgba(255,255,255,.15);
  border:1px solid rgba(255,255,255,.25);
  border-radius:22px;
  padding:28px 24px;
  width:min(88vw,420px);
  text-align:center;
  backdrop-filter:blur(12px);
}
h1{
  margin:10px 0;
  font-size:48px;
  text-shadow:0 0 30px rgba(255,200,150,.8);
}
p{
  opacity:.85;
}
button{
  border:none;
  border-radius:14px;
  padding:12px 16px;
  margin:8px;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}
#start{
  background:linear-gradient(135deg,#ffd27a,#ff7ab6);
}
#boom{
  background:rgba(255,255,255,.22);
  color:white;
}

/* ===== ä¸­å¤®å¼¹çª—ç¥ç¦ ===== */
#center-bless{
  position:fixed;
  left:50%;
  top:45%;
  transform:translate(-50%,-50%);
  z-index:999;
  pointer-events:none;
}

.center-bless-item{
  min-width:200px;
  max-width:80vw;
  padding:14px 22px;
  margin:12px auto;
  background:rgba(255,255,255,0.25);
  border-radius:20px;
  text-align:center;
  font-size:20px;
  font-weight:600;
  color:#fff;
  backdrop-filter:blur(14px);
  box-shadow:0 14px 36px rgba(0,0,0,.35);
  animation:blessPop 1.3s ease forwards;
}

@keyframes blessPop{
  0%{
    opacity:0;
    transform:scale(0.6);
  }
  40%{
    opacity:1;
    transform:scale(1.12);
  }
  70%{
    transform:scale(1);
  }
  100%{
    opacity:0;
    transform:scale(0.96);
  }
}

/* å€’è®¡æ—¶ */
#countdown{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:120px;
  font-weight:900;
  opacity:0;
  pointer-events:none;
  text-shadow:0 0 40px gold;
  transition:.3s;
  z-index:50;
}
#countdown.show{
  opacity:1;
}

/* ç»ˆæç¥ç¦ */
#final{
  position:fixed;
  inset:0;
  background:radial-gradient(circle,#ff4f87,#050008);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-size:clamp(36px,7vw,72px);
  font-weight:900;
  opacity:0;
  pointer-events:none;
  transition:.6s;
  z-index:99;
  text-align:center;
}
#final.show{
  opacity:1;
}
#sign{
  margin-top:22px;
  font-size:clamp(18px,4vw,28px);
  font-weight:600;
  opacity:.9;
}
</style>
</head>

<body>

<div id="center">
  <div id="card">
    <h1>è€çˆ¸</h1>
    <p>ç‚¹ä¸€ä¸‹ï¼Œç¥ç¦åœ¨ä½ çœ¼å‰å‡ºç° ğŸ‚</p>
    <button id="start">å¼€å§‹ç¥ç¦ ğŸ‰</button>
    <button id="boom">ğŸ† ç»ˆææƒŠå–œ</button>
  </div>
</div>

<div id="center-bless"></div>
<div id="countdown"></div>

<div id="final">
  è€çˆ¸ï¼Œæˆ‘çˆ±ä½  â¤ï¸
  <div id="sign">â€”â€” ä½ äº²çˆ±çš„å¥³å„¿</div>
</div>

<audio id="music" loop>
  <source src="happy.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== ç¥ç¦å†…å®¹ ===== */
const messages = [
  "è€çˆ¸ç”Ÿæ—¥å¿«ä¹ ğŸ‚",
  "èº«ä½“å¥åº· ğŸ’ª",
  "å¤©å¤©å¼€å¿ƒ ğŸ˜„",
  "ä¸‡äº‹é¡ºæ„ âœ¨",
  "ç¦æ°”æ»¡æ»¡ ğŸ€",
  "æˆ‘ä»¬éƒ½çˆ±ä½  â¤ï¸"
];

const music = document.getElementById("music");
const centerBless = document.getElementById("center-bless");

/* ===== ä¸­å¤®å¼¹ç¥ç¦ + è½»å¾®éœ‡åŠ¨ ===== */
function popCenterBless(text){
  const d = document.createElement("div");
  d.className = "center-bless-item";
  d.textContent = text;
  centerBless.appendChild(d);

  // è½»å¾®éœ‡åŠ¨ï¼ˆæ”¯æŒçš„æ‰‹æœºæ‰ä¼šç”Ÿæ•ˆï¼‰
  if (navigator.vibrate) {
    navigator.vibrate(20);
  }

  setTimeout(()=>d.remove(),1300);
}

/* ===== å€’è®¡æ—¶ ===== */
const countdown = document.getElementById("countdown");
function startCountdown(cb){
  let n = 3;
  countdown.textContent = n;
  countdown.classList.add("show");

  const t = setInterval(()=>{
    n--;
    if(n > 0){
      countdown.textContent = n;
      if (navigator.vibrate) navigator.vibrate(30);
    }else{
      clearInterval(t);
      countdown.classList.remove("show");
      cb();
    }
  }, 900);
}

/* ===== æŒ‰é’®é€»è¾‘ ===== */
document.getElementById("start").onclick = () => {
  music.play().catch(()=>{});
  let i = 0;
  const timer = setInterval(()=>{
    popCenterBless(messages[i % messages.length]);
    i++;
    if(i >= 6) clearInterval(timer);
  }, 900);
};

document.getElementById("boom").onclick = () => {
  music.play().catch(()=>{});
  startCountdown(()=>{
    let i = 0;
    const timer = setInterval(()=>{
      popCenterBless(messages[i % messages.length]);
      i++;
      if(i >= 10) clearInterval(timer);
    }, 650);

    document.getElementById("final").classList.add("show");
    if (navigator.vibrate) navigator.vibrate([40,60,40]);

    setTimeout(()=>{
      document.getElementById("final").classList.remove("show");
    },2600);
  });
};
</script>

</body>
</html>
